<!doctype html><html><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge,chrome=1"><title>Facilitando a memorização de projetos com make | WTF</title><meta name=viewport content="width=device-width,minimum-scale=1"><meta name=description content="Simpĺificação de comandos"><link rel=icon href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>%e2%9c%a8</text></svg>"><meta property="og:title" content="Facilitando a memorização de projetos com make"><meta property="og:description" content="Simpĺificação de comandos"><meta property="og:type" content="article"><meta property="og:url" content="https://wtf.neni.dev/posts/make-no-fluxo-de-trabalho/"><meta property="article:section" content="posts"><meta property="article:published_time" content="2022-12-21T16:32:31-03:00"><meta property="article:modified_time" content="2022-12-21T16:32:31-03:00"><meta itemprop=name content="Facilitando a memorização de projetos com make"><meta itemprop=description content="Simpĺificação de comandos"><meta itemprop=datePublished content="2022-12-21T16:32:31-03:00"><meta itemprop=dateModified content="2022-12-21T16:32:31-03:00"><meta itemprop=wordCount content="168"><meta itemprop=keywords content="bash,git,"><meta name=twitter:card content="summary"><meta name=twitter:title content="Facilitando a memorização de projetos com make"><meta name=twitter:description content="Simpĺificação de comandos"><link rel=stylesheet href=/sass/main.min.c44f64e907510667317656285b596c55db57c8d115610382304472387040b7bf.css><link rel=stylesheet href=/sass/layouts/single.min.0eb9a2da2df1ebb163bf7d2519f57722d6720f5b660d90c0b1ce3318f7aa360c.css></head><body><header class=menu><nav role=navigation><ul><li><a href=https://wtf.neni.dev>WTF</a></li><li><a href=http://neni.dev>Neni</a></li></ul></nav></header><main><article><header><time class=datepost datetime=2022-12-21T16:32:31-03:00>21/12/2022</time><div class=container-singlepost-title><h1>Facilitando a memorização de projetos com make</h1><a class=fixme href=http://github.com/nenitf/wtf/edit/main/content/posts/make-no-fluxo-de-trabalho.md><code>fixme</code></a></div><ul class=tags><li><a href=/tags/bash>#bash</a></li><li><a href=/tags/git>#git</a></li></ul></header><p>Durante o trabalho preciso executar uma série de comandos, por vezes específico por projeto ou framework, e sentia falta da uniformização e simplificação desses.</p><p>O fluxo abaixo com os snippets resumem como é feito:</p><ol><li>Adicionando uma propriedade no <code>~/.gitconfig</code>, permito utilizar mais outro <code>gitconfig</code> dependendo da pasta que estou no terminal (<code>pwd</code>)</li><li>O <code>gitconfig</code> específico da pasta (projeto) define um <code>gitignore</code> global</li><li>O <code>gitignore</code> global esconde o arquivo <code>meumakefile</code> (nome arbitrário)</li><li>Todos os alias são criados no <code>meumakefile</code>, e não importe o quanto eu o modifique ele não é visível no projeto</li><li>Com o alias <code>m</code>, simplifico o comando <code>make -f meumakefile i</code> como <code>m i</code></li></ol><figure><img src=https://g.gravizo.com/svg?%0a%20%20digraph%20G%20%7b%0a%20%20%20%20node%20%5bshape%3dbox%5d%0a%20%20%20%20gitignore%5blabel%3d%22gitignore%20global%22%5d%3b%0a%20%20%20%20gitconfigprojeto%5blabel%3d%22gitconfig%20do%20projeto%22%5d%3b%0a%0a%20%20%20%20gitconfig%20-%3e%20gitconfigprojeto%20-%3e%20gitignore%20-%3e%20meumakefile%3b%0a%20%20%20%20bashrc%3b%0a%20%20%7d%0a alt="Relação de arquivos"><figcaption>Relação de arquivos</figcaption></figure><pre><code class=language-gitconfig data-lang=gitconfig># `~/.gitconfig`
[includeIf &quot;gitdir:~/dev/trampo/projetox/&quot;]
    path = dev/trampo/.gitconfig-projetox
</code></pre><pre><code class=language-gitconfig data-lang=gitconfig># `~/dev/trampo/.gitconfig-projetox`
[core]
    excludesfile = ~/dev/trampo/.gitignore-projetox
</code></pre><pre><code class=language-gitignore data-lang=gitignore># `~/dev/trampo/.gitignore-projetox`
meumakefile
</code></pre><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-Makefile data-lang=Makefile><span style=color:#75715e># vim:set ff=unix ts=4 ss=4 sw=4 sta noet:
</span><span style=color:#75715e># nofixendofline
</span><span style=color:#75715e>#%s/^[ ]\+/\t/g
</span><span style=color:#75715e></span>
<span style=color:#75715e># meumakefile
</span><span style=color:#75715e></span>
<span style=color:#a6e22e>i</span><span style=color:#f92672>:</span>
	./vendor/bin/sail composer i

<span style=color:#a6e22e>u</span><span style=color:#f92672>:</span>
	./vendor/bin/sail composer update

<span style=color:#a6e22e>o</span><span style=color:#f92672>:</span>
	./vendor/bin/sail artisan optimize:clear
</code></pre></div><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=color:#75715e># ~/.bashrc</span>
alias m<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;make -f meumakefile&#34;</span>
</code></pre></div><p>Funcionamento na pasta do projeto:</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell>m i
m u
m o
</code></pre></div></article></main></body></html>